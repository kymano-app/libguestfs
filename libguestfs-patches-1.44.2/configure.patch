2318,2332d2317
< enable_ocaml
< enable_perl
< enable_python
< with_python_installdir
< enable_ruby
< with_java
< enable_haskell
< enable_php
< enable_erlang
< enable_lua
< enable_golang
< enable_gobject
< enable_introspection
< enable_rust
< enable_vala
54243,54295d54227
< for ac_prog in genisoimage mkisofs
< do
<   # Extract the first word of "$ac_prog", so it can be a program name with args.
< set dummy $ac_prog; ac_word=$2
< { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
< printf %s "checking for $ac_word... " >&6; }
< if test ${ac_cv_path_GENISOIMAGE+y}
< then :
<   printf %s "(cached) " >&6
< else $as_nop
<   case $GENISOIMAGE in
<   [\\/]* | ?:[\\/]*)
<   ac_cv_path_GENISOIMAGE="$GENISOIMAGE" # Let the user override the test with a path.
<   ;;
<   *)
<   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
< for as_dir in $PATH$PATH_SEPARATOR/usr/sbin$PATH_SEPARATOR/sbin
< do
<   IFS=$as_save_IFS
<   case $as_dir in #(((
<     '') as_dir=./ ;;
<     */) ;;
<     *) as_dir=$as_dir/ ;;
<   esac
<     for ac_exec_ext in '' $ac_executable_extensions; do
<   if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
<     ac_cv_path_GENISOIMAGE="$as_dir$ac_word$ac_exec_ext"
<     printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
<     break 2
<   fi
< done
<   done
< IFS=$as_save_IFS
< 
<   ;;
< esac
< fi
< GENISOIMAGE=$ac_cv_path_GENISOIMAGE
< if test -n "$GENISOIMAGE"; then
<   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $GENISOIMAGE" >&5
< printf "%s\n" "$GENISOIMAGE" >&6; }
< else
<   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
< printf "%s\n" "no" >&6; }
< fi
< 
< 
<   test -n "$GENISOIMAGE" && break
< done
< test -n "$GENISOIMAGE" || GENISOIMAGE="no"
< 
< test "x$GENISOIMAGE" = "xno" && as_fn_error $? "genisoimage must be installed" "$LINENO" 5
< 
66626,66717d66557
< { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for HIVEX" >&5
< printf %s "checking for HIVEX... " >&6; }
< 
< if test -n "$HIVEX_CFLAGS"; then
<     pkg_cv_HIVEX_CFLAGS="$HIVEX_CFLAGS"
<  elif test -n "$PKG_CONFIG"; then
<     if test -n "$PKG_CONFIG" && \
<     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"hivex\""; } >&5
<   ($PKG_CONFIG --exists --print-errors "hivex") 2>&5
<   ac_status=$?
<   printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
<   test $ac_status = 0; }; then
<   pkg_cv_HIVEX_CFLAGS=`$PKG_CONFIG --cflags "hivex" 2>/dev/null`
< 		      test "x$?" != "x0" && pkg_failed=yes
< else
<   pkg_failed=yes
< fi
<  else
<     pkg_failed=untried
< fi
< if test -n "$HIVEX_LIBS"; then
<     pkg_cv_HIVEX_LIBS="$HIVEX_LIBS"
<  elif test -n "$PKG_CONFIG"; then
<     if test -n "$PKG_CONFIG" && \
<     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"hivex\""; } >&5
<   ($PKG_CONFIG --exists --print-errors "hivex") 2>&5
<   ac_status=$?
<   printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
<   test $ac_status = 0; }; then
<   pkg_cv_HIVEX_LIBS=`$PKG_CONFIG --libs "hivex" 2>/dev/null`
< 		      test "x$?" != "x0" && pkg_failed=yes
< else
<   pkg_failed=yes
< fi
<  else
<     pkg_failed=untried
< fi
< 
< 
< 
< if test $pkg_failed = yes; then
<    	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
< printf "%s\n" "no" >&6; }
< 
< if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
<         _pkg_short_errors_supported=yes
< else
<         _pkg_short_errors_supported=no
< fi
<         if test $_pkg_short_errors_supported = yes; then
< 	        HIVEX_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors --cflags --libs "hivex" 2>&1`
<         else
< 	        HIVEX_PKG_ERRORS=`$PKG_CONFIG --print-errors --cflags --libs "hivex" 2>&1`
<         fi
< 	# Put the nasty error message in config.log where it belongs
< 	echo "$HIVEX_PKG_ERRORS" >&5
< 
< 	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
< printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
< as_fn_error $? "hivex library is required
< See \`config.log' for more details" "$LINENO" 5; }
< elif test $pkg_failed = untried; then
<      	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
< printf "%s\n" "no" >&6; }
< 	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
< printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
< as_fn_error $? "hivex library is required
< See \`config.log' for more details" "$LINENO" 5; }
< else
< 	HIVEX_CFLAGS=$pkg_cv_HIVEX_CFLAGS
< 	HIVEX_LIBS=$pkg_cv_HIVEX_LIBS
<         { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
< printf "%s\n" "yes" >&6; }
< 
< 
< 
< 
< printf "%s\n" "#define HAVE_HIVEX 1" >>confdefs.h
< 
< 
< fi
<  if test "x$HIVEX_LIBS" != "x"; then
<   HAVE_HIVEX_TRUE=
<   HAVE_HIVEX_FALSE='#'
< else
<   HAVE_HIVEX_TRUE='#'
<   HAVE_HIVEX_FALSE=
< fi
< 
< 
< 
< pkg_failed=no
72799,72800d72638
< ac_config_files="$ac_config_files php/extension/php-for-tests.sh"
< 
72808c72646
< ac_config_files="$ac_config_files Makefile align/Makefile appliance/Makefile bash/Makefile builder/Makefile builder/libguestfs.conf builder/opensuse.conf builder/templates/Makefile builder/test-config/virt-builder/repos.d/test-index.conf builder/test-simplestreams/virt-builder/repos.d/cirros.conf builder/test-website/virt-builder/repos.d/libguestfs.conf bundled/ocaml-augeas/Makefile cat/Makefile common/errnostring/Makefile common/edit/Makefile common/mlcustomize/Makefile common/mlgettext/Makefile common/mlpcre/Makefile common/mlprogress/Makefile common/mlstdutils/Makefile common/mlstdutils/guestfs_config.ml common/mltools/Makefile common/mlutils/Makefile common/mlvisit/Makefile common/mlxml/Makefile common/options/Makefile common/parallel/Makefile common/progress/Makefile common/protocol/Makefile common/qemuopts/Makefile common/structs/Makefile common/utils/Makefile common/visit/Makefile common/windows/Makefile config.sh csharp/Makefile customize/Makefile daemon/daemon_config.ml daemon/Makefile df/Makefile dib/Makefile diff/Makefile docs/Makefile edit/Makefile erlang/Makefile erlang/examples/Makefile examples/Makefile fish/Makefile format/Makefile fuse/Makefile generator/Makefile get-kernel/Makefile gnulib/lib/Makefile gnulib/tests/Makefile gobject/libguestfs-gobject-1.0.pc gobject/Makefile golang/Makefile golang/examples/Makefile haskell/Makefile include/Makefile inspector/Makefile java/Makefile java/examples/Makefile lib/Makefile lib/libguestfs.pc lib/local/libguestfs.pc lua/Makefile lua/examples/Makefile make-fs/Makefile ocaml/META ocaml/Makefile ocaml/examples/Makefile perl/Build.PL perl/Makefile perl/examples/Makefile php/Makefile po-docs/Makefile po-docs/ja/Makefile po-docs/uk/Makefile po/Makefile python/Makefile python/examples/Makefile python/setup.py python/t/tests_helper.py rescue/Makefile resize/Makefile ruby/Makefile ruby/Rakefile ruby/examples/Makefile ruby/ext/guestfs/extconf.rb rust/Makefile rust/Cargo.toml sparsify/Makefile sysprep/Makefile test-data/Makefile test-data/binaries/Makefile test-data/blank-disks/Makefile test-data/files/Makefile test-data/phony-guests/Makefile test-data/phony-guests/guests.xml test-tool/Makefile tests/9p/Makefile tests/bigdirs/Makefile tests/btrfs/Makefile tests/c-api/Makefile tests/charsets/Makefile tests/create/Makefile tests/daemon/Makefile tests/daemon/captive-daemon.pm tests/discard/Makefile tests/disks/Makefile tests/disks/test-qemu-drive-libvirt.xml tests/disk-labels/Makefile tests/events/Makefile tests/gdisk/Makefile tests/hotplug/Makefile tests/http/Makefile tests/journal/Makefile tests/luks/Makefile tests/lvm/Makefile tests/md/Makefile tests/mount-local/Makefile tests/mountable/Makefile tests/nbd/Makefile tests/network/Makefile tests/ntfs/Makefile tests/parallel/Makefile tests/protocol/Makefile tests/qemu/Makefile tests/regressions/Makefile tests/relabel/Makefile tests/relative-paths/Makefile tests/rsync/Makefile tests/selinux/Makefile tests/syslinux/Makefile tests/tmpdirs/Makefile tests/tsk/Makefile tests/xfs/Makefile tests/xml/Makefile tests/yara/Makefile tools/Makefile website/index.html"
---
> ac_config_files="$ac_config_files Makefile align/Makefile appliance/Makefile bash/Makefile builder/Makefile builder/libguestfs.conf builder/opensuse.conf builder/templates/Makefile builder/test-config/virt-builder/repos.d/test-index.conf builder/test-simplestreams/virt-builder/repos.d/cirros.conf builder/test-website/virt-builder/repos.d/libguestfs.conf bundled/ocaml-augeas/Makefile cat/Makefile common/errnostring/Makefile common/edit/Makefile common/mlcustomize/Makefile common/mlgettext/Makefile common/mlpcre/Makefile common/mlprogress/Makefile common/mlstdutils/Makefile common/mlstdutils/guestfs_config.ml common/mltools/Makefile common/mlutils/Makefile common/mlvisit/Makefile common/mlxml/Makefile common/options/Makefile common/parallel/Makefile common/progress/Makefile common/protocol/Makefile common/qemuopts/Makefile common/structs/Makefile common/utils/Makefile common/visit/Makefile common/windows/Makefile config.sh csharp/Makefile customize/Makefile daemon/daemon_config.ml daemon/Makefile df/Makefile dib/Makefile diff/Makefile docs/Makefile edit/Makefile  fish/Makefile format/Makefile fuse/Makefile generator/Makefile get-kernel/Makefile gnulib/lib/Makefile  gobject/libguestfs-gobject-1.0.pc  include/Makefile inspector/Makefile  lib/Makefile lib/libguestfs.pc lib/local/libguestfs.pc  make-fs/Makefile rescue/Makefile resize/Makefile sparsify/Makefile sysprep/Makefile"
74202,74204d74039
<     "ocaml-dep.sh") CONFIG_FILES="$CONFIG_FILES ocaml-dep.sh" ;;
<     "ocaml-link.sh") CONFIG_FILES="$CONFIG_FILES ocaml-link.sh" ;;
<     "php/extension/php-for-tests.sh") CONFIG_FILES="$CONFIG_FILES php/extension/php-for-tests.sh" ;;
74245,74246d74079
<     "daemon/daemon_config.ml") CONFIG_FILES="$CONFIG_FILES daemon/daemon_config.ml" ;;
<     "daemon/Makefile") CONFIG_FILES="$CONFIG_FILES daemon/Makefile" ;;
74252,74254d74084
<     "erlang/Makefile") CONFIG_FILES="$CONFIG_FILES erlang/Makefile" ;;
<     "erlang/examples/Makefile") CONFIG_FILES="$CONFIG_FILES erlang/examples/Makefile" ;;
<     "examples/Makefile") CONFIG_FILES="$CONFIG_FILES examples/Makefile" ;;
74261,74266d74090
<     "gnulib/tests/Makefile") CONFIG_FILES="$CONFIG_FILES gnulib/tests/Makefile" ;;
<     "gobject/libguestfs-gobject-1.0.pc") CONFIG_FILES="$CONFIG_FILES gobject/libguestfs-gobject-1.0.pc" ;;
<     "gobject/Makefile") CONFIG_FILES="$CONFIG_FILES gobject/Makefile" ;;
<     "golang/Makefile") CONFIG_FILES="$CONFIG_FILES golang/Makefile" ;;
<     "golang/examples/Makefile") CONFIG_FILES="$CONFIG_FILES golang/examples/Makefile" ;;
<     "haskell/Makefile") CONFIG_FILES="$CONFIG_FILES haskell/Makefile" ;;
74269,74270d74092
<     "java/Makefile") CONFIG_FILES="$CONFIG_FILES java/Makefile" ;;
<     "java/examples/Makefile") CONFIG_FILES="$CONFIG_FILES java/examples/Makefile" ;;
74274,74275d74095
<     "lua/Makefile") CONFIG_FILES="$CONFIG_FILES lua/Makefile" ;;
<     "lua/examples/Makefile") CONFIG_FILES="$CONFIG_FILES lua/examples/Makefile" ;;
74277,74291d74096
<     "ocaml/META") CONFIG_FILES="$CONFIG_FILES ocaml/META" ;;
<     "ocaml/Makefile") CONFIG_FILES="$CONFIG_FILES ocaml/Makefile" ;;
<     "ocaml/examples/Makefile") CONFIG_FILES="$CONFIG_FILES ocaml/examples/Makefile" ;;
<     "perl/Build.PL") CONFIG_FILES="$CONFIG_FILES perl/Build.PL" ;;
<     "perl/Makefile") CONFIG_FILES="$CONFIG_FILES perl/Makefile" ;;
<     "perl/examples/Makefile") CONFIG_FILES="$CONFIG_FILES perl/examples/Makefile" ;;
<     "php/Makefile") CONFIG_FILES="$CONFIG_FILES php/Makefile" ;;
<     "po-docs/Makefile") CONFIG_FILES="$CONFIG_FILES po-docs/Makefile" ;;
<     "po-docs/ja/Makefile") CONFIG_FILES="$CONFIG_FILES po-docs/ja/Makefile" ;;
<     "po-docs/uk/Makefile") CONFIG_FILES="$CONFIG_FILES po-docs/uk/Makefile" ;;
<     "po/Makefile") CONFIG_FILES="$CONFIG_FILES po/Makefile" ;;
<     "python/Makefile") CONFIG_FILES="$CONFIG_FILES python/Makefile" ;;
<     "python/examples/Makefile") CONFIG_FILES="$CONFIG_FILES python/examples/Makefile" ;;
<     "python/setup.py") CONFIG_FILES="$CONFIG_FILES python/setup.py" ;;
<     "python/t/tests_helper.py") CONFIG_FILES="$CONFIG_FILES python/t/tests_helper.py" ;;
74294,74299d74098
<     "ruby/Makefile") CONFIG_FILES="$CONFIG_FILES ruby/Makefile" ;;
<     "ruby/Rakefile") CONFIG_FILES="$CONFIG_FILES ruby/Rakefile" ;;
<     "ruby/examples/Makefile") CONFIG_FILES="$CONFIG_FILES ruby/examples/Makefile" ;;
<     "ruby/ext/guestfs/extconf.rb") CONFIG_FILES="$CONFIG_FILES ruby/ext/guestfs/extconf.rb" ;;
<     "rust/Makefile") CONFIG_FILES="$CONFIG_FILES rust/Makefile" ;;
<     "rust/Cargo.toml") CONFIG_FILES="$CONFIG_FILES rust/Cargo.toml" ;;
74302,74347d74100
<     "test-data/Makefile") CONFIG_FILES="$CONFIG_FILES test-data/Makefile" ;;
<     "test-data/binaries/Makefile") CONFIG_FILES="$CONFIG_FILES test-data/binaries/Makefile" ;;
<     "test-data/blank-disks/Makefile") CONFIG_FILES="$CONFIG_FILES test-data/blank-disks/Makefile" ;;
<     "test-data/files/Makefile") CONFIG_FILES="$CONFIG_FILES test-data/files/Makefile" ;;
<     "test-data/phony-guests/Makefile") CONFIG_FILES="$CONFIG_FILES test-data/phony-guests/Makefile" ;;
<     "test-data/phony-guests/guests.xml") CONFIG_FILES="$CONFIG_FILES test-data/phony-guests/guests.xml" ;;
<     "test-tool/Makefile") CONFIG_FILES="$CONFIG_FILES test-tool/Makefile" ;;
<     "tests/9p/Makefile") CONFIG_FILES="$CONFIG_FILES tests/9p/Makefile" ;;
<     "tests/bigdirs/Makefile") CONFIG_FILES="$CONFIG_FILES tests/bigdirs/Makefile" ;;
<     "tests/btrfs/Makefile") CONFIG_FILES="$CONFIG_FILES tests/btrfs/Makefile" ;;
<     "tests/c-api/Makefile") CONFIG_FILES="$CONFIG_FILES tests/c-api/Makefile" ;;
<     "tests/charsets/Makefile") CONFIG_FILES="$CONFIG_FILES tests/charsets/Makefile" ;;
<     "tests/create/Makefile") CONFIG_FILES="$CONFIG_FILES tests/create/Makefile" ;;
<     "tests/daemon/Makefile") CONFIG_FILES="$CONFIG_FILES tests/daemon/Makefile" ;;
<     "tests/daemon/captive-daemon.pm") CONFIG_FILES="$CONFIG_FILES tests/daemon/captive-daemon.pm" ;;
<     "tests/discard/Makefile") CONFIG_FILES="$CONFIG_FILES tests/discard/Makefile" ;;
<     "tests/disks/Makefile") CONFIG_FILES="$CONFIG_FILES tests/disks/Makefile" ;;
<     "tests/disks/test-qemu-drive-libvirt.xml") CONFIG_FILES="$CONFIG_FILES tests/disks/test-qemu-drive-libvirt.xml" ;;
<     "tests/disk-labels/Makefile") CONFIG_FILES="$CONFIG_FILES tests/disk-labels/Makefile" ;;
<     "tests/events/Makefile") CONFIG_FILES="$CONFIG_FILES tests/events/Makefile" ;;
<     "tests/gdisk/Makefile") CONFIG_FILES="$CONFIG_FILES tests/gdisk/Makefile" ;;
<     "tests/hotplug/Makefile") CONFIG_FILES="$CONFIG_FILES tests/hotplug/Makefile" ;;
<     "tests/http/Makefile") CONFIG_FILES="$CONFIG_FILES tests/http/Makefile" ;;
<     "tests/journal/Makefile") CONFIG_FILES="$CONFIG_FILES tests/journal/Makefile" ;;
<     "tests/luks/Makefile") CONFIG_FILES="$CONFIG_FILES tests/luks/Makefile" ;;
<     "tests/lvm/Makefile") CONFIG_FILES="$CONFIG_FILES tests/lvm/Makefile" ;;
<     "tests/md/Makefile") CONFIG_FILES="$CONFIG_FILES tests/md/Makefile" ;;
<     "tests/mount-local/Makefile") CONFIG_FILES="$CONFIG_FILES tests/mount-local/Makefile" ;;
<     "tests/mountable/Makefile") CONFIG_FILES="$CONFIG_FILES tests/mountable/Makefile" ;;
<     "tests/nbd/Makefile") CONFIG_FILES="$CONFIG_FILES tests/nbd/Makefile" ;;
<     "tests/network/Makefile") CONFIG_FILES="$CONFIG_FILES tests/network/Makefile" ;;
<     "tests/ntfs/Makefile") CONFIG_FILES="$CONFIG_FILES tests/ntfs/Makefile" ;;
<     "tests/parallel/Makefile") CONFIG_FILES="$CONFIG_FILES tests/parallel/Makefile" ;;
<     "tests/protocol/Makefile") CONFIG_FILES="$CONFIG_FILES tests/protocol/Makefile" ;;
<     "tests/qemu/Makefile") CONFIG_FILES="$CONFIG_FILES tests/qemu/Makefile" ;;
<     "tests/regressions/Makefile") CONFIG_FILES="$CONFIG_FILES tests/regressions/Makefile" ;;
<     "tests/relabel/Makefile") CONFIG_FILES="$CONFIG_FILES tests/relabel/Makefile" ;;
<     "tests/relative-paths/Makefile") CONFIG_FILES="$CONFIG_FILES tests/relative-paths/Makefile" ;;
<     "tests/rsync/Makefile") CONFIG_FILES="$CONFIG_FILES tests/rsync/Makefile" ;;
<     "tests/selinux/Makefile") CONFIG_FILES="$CONFIG_FILES tests/selinux/Makefile" ;;
<     "tests/syslinux/Makefile") CONFIG_FILES="$CONFIG_FILES tests/syslinux/Makefile" ;;
<     "tests/tmpdirs/Makefile") CONFIG_FILES="$CONFIG_FILES tests/tmpdirs/Makefile" ;;
<     "tests/tsk/Makefile") CONFIG_FILES="$CONFIG_FILES tests/tsk/Makefile" ;;
<     "tests/xfs/Makefile") CONFIG_FILES="$CONFIG_FILES tests/xfs/Makefile" ;;
<     "tests/xml/Makefile") CONFIG_FILES="$CONFIG_FILES tests/xml/Makefile" ;;
<     "tests/yara/Makefile") CONFIG_FILES="$CONFIG_FILES tests/yara/Makefile" ;;
